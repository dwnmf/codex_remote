# Vision

## Цель

Дать разработчику возможность запускать и контролировать сессии Codex CLI на своём компьютере с любого удалённого устройства через веб-клиент, сохраняя выполнение команд локально через Anchor.

## Основной пользователь

- индивидуальный разработчик, который работает с Codex локально и хочет наблюдать/подтверждать действия, когда не находится за компьютером

## Ключевые сценарии

1. Запустить задачу Codex удалённо (вручную или из внешнего триггера)
2. Видеть потоковый вывод (логи, diff, ошибки) на телефоне/планшете
3. Подтверждать или отклонять рискованные действия
4. При необходимости перехватывать управление и отправлять прямой ввод

## Не-цели (текущий фокус)

- исполнять агента в облачных контейнерах вместо локальной машины
- делать полноценное native mobile приложение (приоритет - web)
- строить enterprise IAM-платформу вместо практичного self-host/dev флоу

## Принципы

- `local-first`: команды выполняются только локальным Anchor
- `outbound-only`: локальная машина инициирует исходящие подключения к relay
- `structured protocol`: взаимодействие через JSON-RPC `codex app-server`, без PTY-парсинга
- `low coupling`: web client, control plane и Anchor развиваются независимо
- `provider choice`: Cloudflare и Deno поддерживаются как равноценные self-host провайдеры

## Форма продукта

- **Anchor (локально)**: запускает `codex app-server`, проксирует JSON-RPC, обрабатывает approvals и ввод
- **Orbit / Control Plane**: auth + websocket relay + минимальное состояние сессий
- **Web client**: единый интерфейс для тредов, статуса, подтверждений и управления

## Ключевые решения

- поддержка нескольких платформ для Anchor (macOS/Linux/Windows)
- статический web client
- multi-user поддержка на уровне auth/session
- passkey/TOTP/device-code аутентификация (в зависимости от провайдера/режима)
- единый CLI-флоу self-host: `codex-remote self-host --provider ... --login`

## Критерии успеха

- удалённый пользователь видит live-вывод с минимальной задержкой
- approvals проходят без повторного запуска задач
- запуск/контроль сессии делается целиком из браузера
- локальная машина не требует входящих публичных портов

## Open-core подход

Codex Remote распространяется по [MIT-лицензии](../LICENSE).

Можно развернуть полностью свой стек self-host либо использовать управляемый relay по мере доступности.
